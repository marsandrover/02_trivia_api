{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\suhan\\\\FSND\\\\projects\\\\02_trivia_api\\\\starter\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\suhan\\\\FSND\\\\projects\\\\02_trivia_api\\\\starter\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\suhan\\\\FSND\\\\projects\\\\02_trivia_api\\\\starter\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\suhan\\\\FSND\\\\projects\\\\02_trivia_api\\\\starter\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\suhan\\\\FSND\\\\projects\\\\02_trivia_api\\\\starter\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import $ from'jquery';import'../stylesheets/FormView.css';var FormView=/*#__PURE__*/function(_Component){_inherits(FormView,_Component);var _super=_createSuper(FormView);function FormView(props){var _this;_classCallCheck(this,FormView);_this=_super.call(this);_this.submitQuestion=function(event){event.preventDefault();$.ajax({url:'/questions',//TODO: update request URL\ntype:\"POST\",dataType:'json',contentType:'application/json',data:JSON.stringify({question:_this.state.question,answer:_this.state.answer,difficulty:_this.state.difficulty,category:_this.state.category}),xhrFields:{withCredentials:true},crossDomain:true,success:function success(result){document.getElementById(\"add-question-form\").reset();return;},error:function error(_error){alert('Unable to add question. Please try your request again');return;}});};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.state={question:\"\",answer:\"\",difficulty:1,category:1,categories:{}};return _this;}_createClass(FormView,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;$.ajax({url:\"/categories\",//TODO: update request URL\ntype:\"GET\",success:function success(result){_this2.setState({categories:result.categories});return;},error:function error(_error2){alert('Unable to load categories. Please try your request again');return;}});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{id:\"add-form\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Add a New Trivia Question\"),/*#__PURE__*/React.createElement(\"form\",{className:\"form-view\",id:\"add-question-form\",onSubmit:this.submitQuestion},/*#__PURE__*/React.createElement(\"label\",null,\"Question\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"question\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"label\",null,\"Answer\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"answer\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"label\",null,\"Difficulty\",/*#__PURE__*/React.createElement(\"select\",{name:\"difficulty\",onChange:this.handleChange},/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"1\"),/*#__PURE__*/React.createElement(\"option\",{value:\"2\"},\"2\"),/*#__PURE__*/React.createElement(\"option\",{value:\"3\"},\"3\"),/*#__PURE__*/React.createElement(\"option\",{value:\"4\"},\"4\"),/*#__PURE__*/React.createElement(\"option\",{value:\"5\"},\"5\"))),/*#__PURE__*/React.createElement(\"label\",null,\"Category\",/*#__PURE__*/React.createElement(\"select\",{name:\"category\",onChange:this.handleChange},Object.keys(this.state.categories).map(function(id){return/*#__PURE__*/React.createElement(\"option\",{key:id,value:id},_this3.state.categories[id]);}))),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"button\",value:\"Submit\"})));}}]);return FormView;}(Component);export default FormView;","map":{"version":3,"sources":["C:/Users/suhan/FSND/projects/02_trivia_api/starter/frontend/src/components/FormView.js"],"names":["React","Component","$","FormView","props","submitQuestion","event","preventDefault","ajax","url","type","dataType","contentType","data","JSON","stringify","question","state","answer","difficulty","category","xhrFields","withCredentials","crossDomain","success","result","document","getElementById","reset","error","alert","handleChange","setState","target","name","value","categories","Object","keys","map","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\n\r\nimport '../stylesheets/FormView.css';\r\n\r\nclass FormView extends Component {\r\n  constructor(props){\r\n    super();\r\n    this.state = {\r\n      question: \"\",\r\n      answer: \"\",\r\n      difficulty: 1,\r\n      category: 1,\r\n      categories: {}\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    $.ajax({\r\n      url: `/categories`, //TODO: update request URL\r\n      type: \"GET\",\r\n      success: (result) => {\r\n        this.setState({ categories: result.categories })\r\n        return;\r\n      },\r\n      error: (error) => {\r\n        alert('Unable to load categories. Please try your request again')\r\n        return;\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  submitQuestion = (event) => {\r\n    event.preventDefault();\r\n    $.ajax({\r\n      url: '/questions', //TODO: update request URL\r\n      type: \"POST\",\r\n      dataType: 'json',\r\n      contentType: 'application/json',\r\n      data: JSON.stringify({\r\n        question: this.state.question,\r\n        answer: this.state.answer,\r\n        difficulty: this.state.difficulty,\r\n        category: this.state.category\r\n      }),\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true,\r\n      success: (result) => {\r\n        document.getElementById(\"add-question-form\").reset();\r\n        return;\r\n      },\r\n      error: (error) => {\r\n        alert('Unable to add question. Please try your request again')\r\n        return;\r\n      }\r\n    })\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({[event.target.name]: event.target.value})\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"add-form\">\r\n        <h2>Add a New Trivia Question</h2>\r\n        <form className=\"form-view\" id=\"add-question-form\" onSubmit={this.submitQuestion}>\r\n          <label>\r\n            Question\r\n            <input type=\"text\" name=\"question\" onChange={this.handleChange}/>\r\n          </label>\r\n          <label>\r\n            Answer\r\n            <input type=\"text\" name=\"answer\" onChange={this.handleChange}/>\r\n          </label>\r\n          <label>\r\n            Difficulty\r\n            <select name=\"difficulty\" onChange={this.handleChange}>\r\n              <option value=\"1\">1</option>\r\n              <option value=\"2\">2</option>\r\n              <option value=\"3\">3</option>\r\n              <option value=\"4\">4</option>\r\n              <option value=\"5\">5</option>\r\n            </select>\r\n          </label>\r\n          <label>\r\n            Category\r\n            <select name=\"category\" onChange={this.handleChange}>\r\n              {Object.keys(this.state.categories).map(id => {\r\n                  return (\r\n                    <option key={id} value={id}>{this.state.categories[id]}</option>\r\n                  )\r\n                })}\r\n            </select>\r\n          </label>\r\n          <input type=\"submit\" className=\"button\" value=\"Submit\" />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FormView;\r\n"]},"metadata":{},"sourceType":"module"}